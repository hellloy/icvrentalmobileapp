<ion-view title="Date Info">
    <ion-nav-buttons side="primary">
        <a class="button button-icon icon ion-ios-list-outline button-clear" href="#/main"> Main</a>
    </ion-nav-buttons>
    <ion-content overflow-scroll="true" padding="true" class="has-header">
        <form name="datesForm" novalidate>
            <div class="card stable-bg">
               
                <div class="item item-text-wrap">

                    <label class="item item-input" ng-class="{ 'has-errors' : datesForm.startDate.$error.required || dates.start > dates.end , 'no-errors' : datesForm.startDate.$valid ||dates.start < dates.end}">
                        <span class="input-label">Start date</span>
                        <input type="date" ng-model="dates.start" name="startDate" ng-change="coundDays()" required>
                    </label>

                    <div class="error-container" ng-show="datesForm.startDate.$error" ng-hide="datesForm.startDate.$valid" ng-messages="datesForm.startDate.$error">
                        <div class="error" ng-message="required">
                            <i class="ion-information-circled"></i>
                            This field is required!
                        </div>
                        <div class="error" ng-show="dates.start > dates.end" ng-hide="dates.start < dates.end">
                        <i class="ion-information-circled"></i>
                            Start date  later End date
                    </div>
                    </div>

                    <label class="item item-input" ng-class="{ 'has-errors' : datesForm.startTime.$error.required, 'no-errors' : datesForm.startTime.$valid}">
                        <span class="input-label">Start time</span>
                        <ionic-timepicker input-obj="timePickerObjectStart" etime="epochTime" format="12" step="15">
                            <input type="text" name="startTime" ng-model="dates.TimeStartString" required>
                            {{epochTime}}
                        </ionic-timepicker>
                        
                    </label>
                    <div class="error-container" ng-show="datesForm.startTime.$error" ng-hide="datesForm.startTime.$valid" ng-messages="datesForm.startTime.$error">
                        <div class="error" ng-message="required">
                            <i class="ion-information-circled"></i>
                            This field is required!
                        </div>
                    </div>
                    
                    <label class="item item-input" ng-class ="{ 'has-errors' : datesForm.endDate.$error.required, 'no-errors' : datesForm.endDate.$valid}">
                        <span class="input-label">End Date</span>
                        <input type="date" ng-model="dates.end" name="endDate" ng-change="coundDays()" required>
                    </label>
                    <div class="error-container" ng-show="datesForm.endDate.$error" ng-hide="datesForm.endDate.$valid" ng-messages="datesForm.endDate.$error">
                        <div class="error" ng-message="required">
                            <i class="ion-information-circled"></i>
                            This field is required!
                        </div>
                    </div>
                    
                    <label class="item item-input" ng-class="{ 'has-errors' : datesForm.endTime.$error.required, 'no-errors' : datesForm.endTime.$valid}">
                        <span class="input-label">End time</span>
                        <ionic-timepicker input-obj="timePickerObjectEnd" etime="epochTime" format="12" step="15">
                            <input type="text" name="endTime" ng-model="dates.TimeEndString" required>
                        </ionic-timepicker>
                    </label>
                    <div class="error-container" ng-show="datesForm.startTime.$error" ng-hide="datesForm.startTime.$valid" ng-messages="datesForm.startTime.$error">
                        <div class="error" ng-message="required">
                            <i class="ion-information-circled"></i>
                            This field is required!
                        </div>
                    </div>


                        
                    
                    <!--<ionic-timepicker input-obj="timePickerObject">
                        <button class="button button-block  overflowShow">
                            <standard-time-meridian setime='timePickerObject.inputEpochTime'></standard-time-meridian>
                        </button>
                    </ionic-timepicker>-->
                    
                    
                    <label class="item item-input" ng-class="{ 'has-errors' : datesForm.days.$error.required || datesForm.days.$error.min, 'no-errors' : datesForm.days.$valid}">
                        <span class="input-label">Days</span>
                        <input type="number" ng-model="dates.days"  name="days" min="1" ng-minlength="1" max="9999999" required>
                    </label>
                    <div class="error-container last-error-container" ng-show="datesForm.days.$error" ng-hide="datesForm.days.$valid" ng-messages="datesForm.password.$error">
                        <div class="error" ng-message="required">
                            <i class="ion-information-circled"></i>
                            This field is required!
                        </div>
                        <div class="error" ng-message="min">
                            <i class="ion-information-circled"></i>
                            Days must not be 0
                        </div>
                    </div>  
                </div>

            </div>
            <!--<div class="padding">
                <p class="assertive" ng-show="datesForm.startDate.$error.required">* Start date is required</p>
                <p class="assertive" ng-show="datesForm.endDate.$error.required">* End date is required</p>
                <p class="assertive" ng-show="datesForm.days.$error.required">* Days is required</p>
                <p class="assertive" ng-show="datesForm.days.$error.min">* Days must not be 0</p>
                <p class="assertive" ng-show="dates.start > dates.end">* Start date  later End date</p>
            </div>-->
            
            </form>
</ion-content>
    <ion-footer-bar class="bar-calm">
        <div class="button-bar">
            <a href="#/create/equipment" class="button button-raised button-icon icon ion-ios-arrow-right " ng-disabled="dates.start == null || dates.end ==null||dates.days==null||dates.days ==0 || dates.start > dates.end">
                Next
            </a>
        </div>
        
    </ion-footer-bar>
</ion-view>

<script id="error-list.html" type="text/ng-template">
    <div class="error" ng-message="required">
        <i class="ion-information-circled"></i>
        This field is required!
    </div>
    <div class="error" ng-message="minlength">
        <i class="ion-information-circled"></i>
        Minimum length of this field is 5 characters!
    </div>
    <div class="error" ng-message="maxlength">
        <i class="ion-information-circled"></i>
        Maximum length of this field is 20 characters!
    </div>
</script>   